{% extends "layout/basic_plan.html" %}
{#{% import os %}#}

{% block content %}
    <script type="text/javascript">var addres = "";</script>
    <h2>
        <div id="title">qqqq</div>
    </h2>
    <div class="container-fluid">
        <div class="row align-items-lg-baseline">
            <div class="col-5 mx-auto col-md-6 order-md-2 bg-danger text-white">
                <form>
                    <div class="form-group">
                        <label for="exampleFormControlSelect2">Example multiple select</label>
                        <select multiple class="form-control" id="exampleFormControlSelect2" size="15" name="rozdili">
                            {% for rubric in rubrics %}
                                <option id="{{ rubric.id }}" level="{{ rubric.id }}">
                                    {{ rubric.name }}
                                </option>
                            {% endfor %}

                        </select>
                    </div>
                </form>
                <input id="prew" type="button" value="Попередній"/>
                <input id="next" type="button" value="Наступний"/>
                <input id="nnn" type="number" value="1"/>
            </div>
            <div id="pl" class="col-5 mx-auto col-md-6 order-md-2 bg-danger text-white">

            </div>

        </div>
    </div>

    <script type="text/javascript">
        var n = 1;
        var addres;
        jQuery(document).ready(function () {
                n = 1;
                jQuery('#pl').load("{{ dir }}" + n);
            }
        );
    </script>
    <script type="text/javascript">


        jQuery('#exampleFormControlSelect2').on('click', function () {
            n = 1;

            $.ajax({
                url: '127.0.0.1:8000/hello',
                type: 'get', // This is the default though, you don't actually need to always mention it
                success: function (data) {
                    alert(data);
                },
                failure: function (data) {
                    alert('Got an error dude');
                }
            });

            {#var value1 = jQuery(this).find(":selected").attr('id');#}
            {#jQuery('#pl').load("{{ dir2 }}" + value1);#}

            {#$.getJSON("http://127.0.0.1:8000/plan/getjson", function (json) {#}
            {#    s = json;#}
            {##}
            {#);#}
            {#alert(s);#}
            {#addres = s.split(',');#}


        });
    </script>
    <script type="text/javascript">
        jQuery('#next').on('click', function () {

                {#alert(addres[0])#}
                n = n + 1;
                if (n <= 0) n = 1;
                alert("{{ dir2 }}")
                $('#pl').load("{{ dir2 }}{{ plans.1.id }}");
            }
        );

        jQuery('#prew').on('click', function () {
            n = n - 1;
            if (n <= 0) n = 1;
            k = 0
            {% for ind in index_plans %}
                k = k + 1;
                {% if k == n %}
                    $('#pl').load("{{ dir }}" +{{ ind.id }});

                {% endif %}
            {% endfor %}
            jQuery['#nnn'].val(n);
        });
    </script>

{% endblock %}
